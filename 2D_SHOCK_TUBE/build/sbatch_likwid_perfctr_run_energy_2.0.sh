#!/bin/bash -l
#SBATCH --job-name=CLBM
#SBATCH --partition=singlenode
#SBATCH --nodes=1
#SBATCH --cpus-per-task=1
#SBATCH --time=24:00:00
#SBATCH --export=NONE
#SBATCH --constraint=hwperf
#SBATCH --output=/home/hpc/muco/muco114h/App/phase02/mucosim/profiling_2D/2D_SHOCK_TUBE_main/build/%j_%x.out
unset SLURM_EXPORT_ENV 
module load gsl
module load likwid
# This pins openMP threads to physical cores on the socket
export OMP_PLACES=cores
# This places threads as close as possible to one another
export OMP_PROC_BIND=true
# 
export OMP_NUM_THREADS=1
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=2
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-1 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=3
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-2 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=4
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-3 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=5
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-4 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=6
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-5 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=7
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-6 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=8
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-7 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=9
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-8 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=10
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-9 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=11
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-10 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=12
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-11 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=13
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-12 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=14
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-13 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=15
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-14 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=16
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-15 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=17
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-16 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=18
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-17 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=19
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-18 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=20
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-19 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=21
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-20 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=22
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-21 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=23
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-22 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=24
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-23 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=25
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-24 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=26
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-25 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=27
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-26 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=28
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-27 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=29
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-28 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=30
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-29 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=31
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-30 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=32
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-31 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=33
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-32 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=34
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-33 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=35
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-34 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=36
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35 -g MEM_DP -m ./CLBM
# 
export OMP_NUM_THREADS=37
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0 -g   MEM_DP -m ./CLBM
export OMP_NUM_THREADS=38
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-1 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=39
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-2 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=40
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-3 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=41
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-4 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=42
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-5 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=43
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-6 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=44
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-7 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=45
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-8 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=46
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-9 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=47
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-10 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=48
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-11 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=49
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-12 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=50
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-13 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=51
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-14 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=52
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-15 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=53
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-16 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=54
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-17 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=55
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-18 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=56
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-19 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=57
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-20 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=58
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-21 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=59
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-22 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=60
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-23 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=61
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-24 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=62
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-25 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=63
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-26 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=64
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-27 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=65
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-28 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=66
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-29 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=67
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-30 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=68
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-31 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=69
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-32 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=70
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-33 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=71
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-34 -g MEM_DP -m ./CLBM
export OMP_NUM_THREADS=72
srun --cpu-freq=2000000-2000000:performance likwid-perfctr -C S0:0-35@S1:0-35 -g MEM_DP -m ./CLBM
